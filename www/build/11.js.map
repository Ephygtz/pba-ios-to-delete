{"version":3,"sources":["../../src/pages/wakfu/wakfu.module.ts","../../src/pages/wakfu/wakfu.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { WakfuPage } from './wakfu';\n\n@NgModule({\n  declarations: [\n    WakfuPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(WakfuPage)\n  ],\n})\nexport class WakfuPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wakfu/wakfu.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, ModalController, NavParams } from 'ionic-angular';\nimport { GlobalVarsProvider } from '../../providers/global-vars/global-vars';\nimport { AlertServiceProvider } from '../../providers/alert-service/alert-service';\nimport { ClientdataProvider } from '../../providers/clientdata/clientdata';\nimport { ContactsProvider } from '../../providers/contacts/contacts';\nimport Format from 'string-format';\n\n@IonicPage()\n@Component({\n  selector: 'page-wakfu',\n  templateUrl: 'wakfu.html',\n})\nexport class WakfuPage {\n\n  pre: any;\n\n  accounts: any = [];\n  unmasked_accounts: any = [];\n  objectblock: any = {\n    username: '', account_from: '', lang: '', account_to: '', biller_ref: '',\n    ministry_name: '', refref: '', amount: '',\n  };\n  cname: string = \"\";\n  amount: string = \"\";\n  error: number = 0;\n  ispay: boolean = false;\n  avail: boolean = false;\n  unpaid: boolean = false;\n  langs: any = {};\n  allNavdata: any = {};\n  title: string = \"\";\n  merchantname: any = \"\";\n  merchantnumber: any = \"\";\n  constructor(public contactsProvider: ContactsProvider, public navCtrl: NavController, public globalVars: GlobalVarsProvider, public modalCtrl: ModalController,\n    public alertService: AlertServiceProvider, private clientdata: ClientdataProvider, public navParams: NavParams) {\n\n    this.langs = this.globalVars.doTranslate(this.globalVars.getLang());\n    this.objectblock.username = this.globalVars.Username;\n    this.accounts = globalVars.linked_acc;\n    this.objectblock.account_from = this.accounts[0].acc_number;\n    this.allNavdata = navParams.get('data');\n\n  }\n\n\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CollectionPage');\n  }\n  goHome() {\n    this.navCtrl.setRoot('HomePage');\n  }\n  back() {\n    if (this.ispay) {\n      this.ispay = false;\n      this.objectblock.account_to = \"\";\n    } else\n      this.navCtrl.pop();\n  }\n  pickContact() {\n    this.objectblock.accountto = \"\";\n    this.contactsProvider.pickContact().then(contact => {\n      if (contact.phoneNo.length > 1) {\n        if (contact.phoneNo[0] == \"\" || contact.phoneNo[0] == undefined) {\n          this.alertService.mytoastdown(this.langs.valid_topup_number);\n        } else {\n          this.objectblock.account_to = contact.phoneNo[0];\n        }\n      }\n      else {\n        if (contact.phoneNo[0] == \"\" || contact.phoneNo[0] == undefined) {\n          this.alertService.mytoastdown(this.langs.valid_topup_number);\n        } else {\n          this.objectblock.account_to = contact.phoneNo[0];\n        }\n      }\n    });\n  }\n \n \n  ionViewDidEnter() {\n    this.globalVars.reload();\n\n  }\n\n  \n\n  confirm(){\n\n    let message = \"Do you want to donate TZS: \"+ this.objectblock.amount;\n  let template = \"<div>\" + message + \"</div>\";\n  let obj = { body: \"\", template: template, ttype: \"\", completed: false, pageTo: '' };\n  let myModal = this.modalCtrl.create('ConfirmModalPage', obj);\n  myModal.present();\n  myModal.onDidDismiss(data => {\n    if (data) { this.submit(); }\n  });\n  \n  }\n  submit() {\n\n    \n\n    this.objectblock.type='donate';\n    \n    if (this.objectblock.account_from === null || this.objectblock.account_from === '') {\n      this.alertService.errorPop(this.langs.invalid_acc);\n    } else if (this.objectblock.amount === null || this.objectblock.amount === '') {\n\n      this.error = 4;\n\n      \n    } else {\n\n\n    \n    this.alertService.showLoading(this.langs.submitting_txt);\n    this.clientdata.wakfu(this.objectblock)\n\n      .subscribe(data => {\n        data = this.globalVars.testdec(data);\n        console.log(data)\n        if (data.length != 0) {\n          this.alertService.dismiss();\n          if (!data.error) {\n            this.alertService.errorPop(data.field48);\n            this.navCtrl.pop();\n          } else if (data.error) {\n            this.alertService.errorPop(data.field48);\n            this.navCtrl.pop();\n          } else {\n            this.alertService.errorPop(this.langs.tech);\n            this.navCtrl.pop();\n          }\n        } else {\n          this.alertService.dismiss();\n          this.alertService.errorPop(this.langs.tech);\n          this.navCtrl.pop();\n        }\n      }, err => {\n        console.log(err);\n        this.alertService.dismiss();\n        this.alertService.errorPop(this.langs.tech);\n      });\n  }\n}\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wakfu/wakfu.ts"],"sourceRoot":""}