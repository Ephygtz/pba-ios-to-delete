{"version":3,"sources":["../../src/pages/change-pin/change-pin.module.ts","../../node_modules/string-format/index.js","../../src/pages/change-pin/change-pin.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangePinPage } from './change-pin';\n\n@NgModule({\n  declarations: [\n    ChangePinPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChangePinPage),\n  ],\n  exports: [\n    ChangePinPage\n  ]\n})\nexport class ChangePinPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-pin/change-pin.module.ts","void function(global) {\n\n  'use strict';\n\n  //  ValueError :: String -> Error\n  function ValueError(message) {\n    var err = new Error(message);\n    err.name = 'ValueError';\n    return err;\n  }\n\n  //  create :: Object -> String,*... -> String\n  function create(transformers) {\n    return function(template) {\n      var args = Array.prototype.slice.call(arguments, 1);\n      var idx = 0;\n      var state = 'UNDEFINED';\n\n      return template.replace(\n        /([{}])\\1|[{](.*?)(?:!(.+?))?[}]/g,\n        function(match, literal, _key, xf) {\n          if (literal != null) {\n            return literal;\n          }\n          var key = _key;\n          if (key.length > 0) {\n            if (state === 'IMPLICIT') {\n              throw ValueError('cannot switch from ' +\n                               'implicit to explicit numbering');\n            }\n            state = 'EXPLICIT';\n          } else {\n            if (state === 'EXPLICIT') {\n              throw ValueError('cannot switch from ' +\n                               'explicit to implicit numbering');\n            }\n            state = 'IMPLICIT';\n            key = String(idx);\n            idx += 1;\n          }\n\n          //  1.  Split the key into a lookup path.\n          //  2.  If the first path component is not an index, prepend '0'.\n          //  3.  Reduce the lookup path to a single result. If the lookup\n          //      succeeds the result is a singleton array containing the\n          //      value at the lookup path; otherwise the result is [].\n          //  4.  Unwrap the result by reducing with '' as the default value.\n          var path = key.split('.');\n          var value = (/^\\d+$/.test(path[0]) ? path : ['0'].concat(path))\n            .reduce(function(maybe, key) {\n              return maybe.reduce(function(_, x) {\n                return x != null && key in Object(x) ?\n                  [typeof x[key] === 'function' ? x[key]() : x[key]] :\n                  [];\n              }, []);\n            }, [args])\n            .reduce(function(_, x) { return x; }, '');\n\n          if (xf == null) {\n            return value;\n          } else if (Object.prototype.hasOwnProperty.call(transformers, xf)) {\n            return transformers[xf](value);\n          } else {\n            throw ValueError('no transformer named \"' + xf + '\"');\n          }\n        }\n      );\n    };\n  }\n\n  //  format :: String,*... -> String\n  var format = create({});\n\n  //  format.create :: Object -> String,*... -> String\n  format.create = create;\n\n  //  format.extend :: Object,Object -> ()\n  format.extend = function(prototype, transformers) {\n    var $format = create(transformers);\n    prototype.format = function() {\n      var args = Array.prototype.slice.call(arguments);\n      args.unshift(this);\n      return $format.apply(global, args);\n    };\n  };\n\n  /* istanbul ignore else */\n  if (typeof module !== 'undefined') {\n    module.exports = format;\n  } else if (typeof define === 'function' && define.amd) {\n    define(function() { return format; });\n  } else {\n    global.format = format;\n  }\n\n}.call(this, this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/string-format/index.js\n// module id = 785\n// module chunks = 0 1 2 3 4 5","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ModalController, Platform } from 'ionic-angular';\nimport { GlobalVarsProvider } from '../../providers/global-vars/global-vars';\nimport { ContactsProvider } from '../../providers/contacts/contacts';\nimport { ApiConnectProvider } from '../../providers/api-connect/api-connect';\nimport { AlertServiceProvider } from '../../providers/alert-service/alert-service';\nimport { ClientdataProvider } from '../../providers/clientdata/clientdata';\nimport { Toast } from '@ionic-native/toast';\nimport { Storage } from '@ionic/storage';\nimport { Device } from '@ionic-native/device';\nimport Format from 'string-format';\n\n@IonicPage()\n@Component( {\n  selector: 'page-change-pin',\n  templateUrl: 'change-pin.html',\n} )\nexport class ChangePinPage {\n  objectblock: any = { username: '', old: '', new: ''};\n  body: any = \"\";\n  data: any;\n  header: any;\n  token: any;\n  mobileNo: string = \"\";\n  userNumber: string = \"\";\n  error: number = 0;\n  pin_list: any = [ \"0000\", \"1234\", \"1111\", \"2222\", \"3333\", \"4444\", \"5555\", \"6666\", \"7777\", \"8888\", \"9999\" ];\n  langs: any = [];\n  pin: any = { confirm: '', old: '', new: '' };\n\n  constructor( private clientdata: ClientdataProvider, public navCtrl: NavController, public navParams: NavParams, public globalVars: GlobalVarsProvider\n    , public loadingController: LoadingController, public modalCtrl: ModalController, public alertService: AlertServiceProvider,\n    private toast: Toast, public apiConnect: ApiConnectProvider,\n    private storage: Storage, private device: Device,\n    public platform: Platform ) {\n    this.objectblock.username = this.globalVars.Username;\n    this.langs = this.globalVars.doTranslate(this.globalVars.getLang());\n\n  }\n\n  ionViewDidLoad() {\n    console.log( 'ionViewDidLoad ChangePinPage' );\n  }\n\n  goHome() {\n    this.navCtrl.setRoot( 'MainPage' );\n  }\n\n\n\n  submit() {\n    if ( this.pin.old == '' || this.pin.old == null || this.pin.old == undefined ) {\n      this.error = 1;\n\n    } else if ( this.pin.new == '' || this.pin.new == null || this.pin.new == undefined ) {\n      this.error = 2;\n    } else if ( this.pin.confirm == '' || this.pin.confirm !== this.pin.new || this.pin.confirm == undefined ) {\n      this.error = 3;\n\n    } else if ( this.pin.old == this.pin.new ) {\n      this.error = 4;\n    }\n    // else if ( this.pin_list.includes( this.pin.new ) ) {\n    //   this.error = 5;\n    // }  \n    else {\n      this.error = 0;\n      this.objectblock.old = this.globalVars.hashpin( this.objectblock.username + this.pin.old );\n      this.objectblock.new = this.globalVars.hashpin( this.objectblock.username + this.pin.new );\n\n      let message = Format( this.langs.pin_change_meso, this.globalVars.Username );\n      let template = \"<div>\" + message + \"</div>\";\n      let obj = { body: \"\", template: template, ttype: \"\", completed: false, pageTo: '' };\n      let myModal = this.modalCtrl.create( 'ConfirmModalPage', obj );\n      myModal.present();\n      myModal.onDidDismiss( data => {\n        if ( data ) { this.request(); }\n      } );\n\n    }\n\n  }\n  ionViewDidEnter() {\n    this.globalVars.reload();\n\n  }\n  request() {\n    this.alertService.showLoading( this.langs.submitting_txt );\n    this.clientdata.changepin( this.objectblock )\n      .subscribe( data => {\n        data = this.globalVars.testdec( data );\n        console.log( data )\n        if ( data.length != 0 ) {\n          console.log( data );\n          this.alertService.dismiss();\n          if ( !data.error ) {\n            this.alertService.errorPop( data.message );\n            this.navCtrl.setRoot( 'LoginPage' );\n          } else if ( data.error ) {\n            this.alertService.errorPop( data.message );\n          } else {\n            this.alertService.errorPop( this.langs.tech );\n          }\n        } else {\n          this.alertService.dismiss();\n          this.alertService.errorPop( this.langs.tech );\n        }\n      }, err => {\n        console.log( err );\n        this.alertService.dismiss();\n        this.alertService.errorPop( this.langs.tech );\n      } );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-pin/change-pin.ts"],"sourceRoot":""}