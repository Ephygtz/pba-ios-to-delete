{"version":3,"sources":["../../src/pages/register/register.module.ts","../../src/pages/register/register.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterPage } from './register';\n\n@NgModule({\n  declarations: [\n    RegisterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage)\n  ],\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, ModalController, NavParams, MenuController } from 'ionic-angular';\nimport { GlobalVarsProvider } from '../../providers/global-vars/global-vars';\nimport { AlertServiceProvider } from '../../providers/alert-service/alert-service';\nimport { ClientdataProvider } from '../../providers/clientdata/clientdata'\nimport { ValidatorProvider } from '../../providers/validator/validator'\nimport { Storage } from '@ionic/storage';\n\n@IonicPage()\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n  objectblock: any = { email: '' };\n  error: number = 0;\n  data: any;\n  firstform: boolean = true;\n  selectedPage: string = 'pagerGreen';\n  selectedPage2: string = 'pagerGrey';\n  confirmReq: any;\n  ageLimit: string = \"1994\";\n  langs:any = {};\n  mpage: number = 1;\n  constructor( private storage: Storage, public navCtrl: NavController, public validator: ValidatorProvider, public globalVars: GlobalVarsProvider, public alertService: AlertServiceProvider,\n      public modalCtrl: ModalController, public navParams: NavParams, private clientdata: ClientdataProvider,public menu: MenuController) {\n    this.langs =this.globalVars.doTranslate(this.globalVars.getLang());\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RegisterPage');\n  }\n  onPageDidEnter() {\n      this.globalVars.pause();\n      this.menu.enable( false );\n  }\n\n\n//   pickDate(){\n// this.datePicker.show({\n//   date: new Date(),\n//   mode: 'date',\n//   androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK\n// }).then(\n//     date => {\n//         console.log( 'Got date: ', date );\n//         this.objectblock.dob = date;\n//     },\n//   err => console.log('Error occurred while getting date: ', err)\n// );\n//   }\n\n  submit() {\n          if ( this.objectblock.id == \"\" || this.objectblock.id == undefined || this.objectblock.id.length < 8 || this.objectblock.id.length > 30 ) {\n            this.error = 6;\n        }\n        else if (this.objectblock.dob == \"\" || this.objectblock.dob == undefined) {\n            this.error = 7;\n        }\n        else {\n            this.terms();\n        }\n    }\n\nback(){\n    this.navCtrl.setRoot( 'LoginPage' );\n}\n    terms() {\n        let message = this.langs.accept_tncs;\n        let template = \"<div>\" + message + '<br><a  href=\"https://pbzbank.co.tz/\" >view terms and conditions</a>' + \"</div>\";\n        let obj = { body: \"\", template: template, ttype: \"\", completed: false, pageTo: '' };\n        let myModal = this.modalCtrl.create('ConfirmModalPage', obj);\n        myModal.present();\n        myModal.onDidDismiss(data => {\n            if (data) {\n                 this.register();\n            }\n            else { }\n        });\n    }\n  goHome() {\n    this.navCtrl.setRoot('LoginPage');\n  }\n\n  register() { \n      this.objectblock.username = this.globalVars.trimPhome( this.objectblock.mobile );\n      this.objectblock.mobile = this.globalVars.trimPhome( this.objectblock.mobile );\n      this.alertService.showLoading( this.langs.submitting_txt );\n      this.clientdata.register( this.objectblock )\n          .subscribe( data => {\n              data = this.globalVars.testdec( data );\n              console.log( data )\n              if ( data.length != 0 ) {\n                  this.alertService.dismiss();\n                  if ( !data.error ) {\n                      this.storage.set( 'customer', this.objectblock.first );\n                      let encrypted_phoneno_uuid = '' + this.globalVars.doAESencrypt( this.objectblock.mobile, \"9393099339\" );\n                      this.storage.set( 'xyz', encrypted_phoneno_uuid + \"|\" + this.globalVars.trials );\n                      this.alertService.errorPop( data.message );\n                      this.navCtrl.setRoot('LoginPage');\n                  } else if ( data.error ) {\n                      this.alertService.errorPop( data.message );\n                  } else {\n                      this.alertService.errorPop( this.langs.tech );\n                  }\n              } else {\n                  this.alertService.myLoadingDismiss();\n                  this.alertService.errorPop( this.langs.tech );\n              }\n\n          }, err => {\n              console.log( err );\n              this.alertService.dismiss();\n              this.alertService.errorPop( this.langs.internet );\n          } );\n  }  \n\n  openedPage( page ) {\n      if ( page == 1 ) {\n          this.mpage = 1;\n          this.selectedPage = 'pagerGrey';\n          this.selectedPage2 = 'pagerGreen';\n      }\n      else {\n          this.error = 0;\n          if ( this.objectblock.mobile == \"\" || this.objectblock.mobile == undefined || this.objectblock.mobile.length < 9 ) {\n              this.error = 1;\n          }\n          else if ( this.objectblock.first == \"\" || this.objectblock.first == undefined ) {\n              this.error = 2;\n          }\n          else if ( this.objectblock.second == \"\" || this.objectblock.second == undefined ) {\n              this.error = 3;\n          }else{ \n          this.mpage = 2;\n          this.selectedPage = 'pagerGreen';\n          this.selectedPage2 = 'pagerGrey';\n          }    \n      }\n  } \n\n\n  validate(thevalue) {\n      switch ( thevalue ) {\n          case \"mobile\": {\n              if ( this.validator.isMobile( this.objectblock.mobile ) )\n                  this.error = 0;\n              else\n                  this.error = 1;\n              break;\n          }\n          case \"id\": {\n              if ( this.validator.isID( this.objectblock.id ) )\n                  this.error = 0;\n              else\n                  this.error = 6;\n              break;\n          }\n          case \"email\": {\n              if ( this.validator.isEmail( this.objectblock.email ) )\n                  this.error = 0;\n              else\n                  this.error = 5;\n              break;\n          }\n          case \"lname\": {\n              if ( this.validator.isName( this.objectblock.last ) )\n                  this.error = 0;\n              else\n                  this.error = 4;\n              break;\n          }\n          case \"sname\": {\n              if ( this.validator.isName( this.objectblock.second ) )\n                  this.error = 0;\n              else\n                  this.error = 3;\n              break;\n          }\n          case \"name\": {\n              if ( this.validator.isName( this.objectblock.first ) )\n                  this.error = 0;\n              else\n                  this.error = 2;\n              break;\n          }\n          default: {\n              this.error = 0;\n              break;\n          }\n      }\n  }  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts"],"sourceRoot":""}